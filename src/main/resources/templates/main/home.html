<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layouts :: header}">
  <title>Project Manager Application </title>
</head>
<body>

<nav th:replace="~{layouts :: navigation}"></nav>

<h3>Main Dashboard</h3>
<p>Version:</p>
<p th:text="${version}"></p>
<div>
<h4> Current Projects: </h4>
<table class="table table-secondary">
  <thead class="table-dark">
    <tr>
      <th>Project name</th>
      <th>Project stage</th>
    </tr>
  </thead>
  <tbody>
  <tr th:each ="aProject: ${projects}">
    <td th:text="${aProject.name}"></td>
    <td th:text="${aProject.stage}"></td>
  </tr>
  </tbody>
</table>
</div>
<div>
  <h4> Current Employees: </h4>
  <table class= "table table-secondary">
    <thead class="table-dark">
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Project Count</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each ="anEmployee: ${employees}">
      <td th:text="${anEmployee.firstName}"></td>
      <td th:text="${anEmployee.lastName}"></td>
      <td th:text="${anEmployee.getProjectCount}"></td>
    </tr>
    </tbody>
  </table>
</div>
<div class="col-md-4">
  <canvas id="myPieChart" height="50" width="50"></canvas>
</div>
<script type="text/javascript" th:src="@{js/piechart.js}">
  // const chartData = "[[${projectStatus}]]";
</script>
</body>
</html>